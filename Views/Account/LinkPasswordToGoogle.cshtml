@{
    ViewData["Title"] = "Прив'язати пароль до Google-акаунта";
    Layout = "_AccountLayout";
}

<div class="card">
    <div class="card-body flex flex-col gap-5 p-10">
        <h3 class="text-lg font-medium text-gray-900 leading-none mb-2.5">
            Прив'язати пароль
        </h3>

        <!-- ДОДАЙТЕ ЦЕЙ БЛОК -->
        <div class="bg-blue-100 border border-blue-300 text-blue-800 p-3 rounded mb-4">
            <p class="mb-1"><strong>🤔 Чому потрібно встановлювати пароль?</strong></p>
            <p class="mb-0 text-sm">
                Ваш акаунт зареєстровано через Google. Google автоматично генерує випадковий пароль,
                який ви не знаєте. Щоб мати можливість входити через email та пароль,
                потрібно встановити свій пароль.
            </p>
        </div>

        <p class="text-gray-700">
            <i class="bi bi-google text-red-500 mr-1"></i>
            Ви вже зареєстровані через Google з email:
            <strong>@TempData["LinkAccountEmail"]</strong>
        </p>

        <p class="text-gray-600">
            Бажаєте додати пароль, щоб мати можливість входити через email та пароль?
        </p>

        <form method="post" action="@Url.Action("LinkPassword", "Account")">
            @Html.AntiForgeryToken()

            <input type="hidden" name="email" value="@TempData["LinkAccountEmail"]" />
            <input type="hidden" name="login" value="@TempData["LinkAccountLogin"]" />

            <div class="flex flex-col gap-1 mb-4">
                <label class="form-label font-normal text-gray-900">
                    Новий пароль
                </label>
                <div class="input" data-toggle-password="true">
                    <input name="password" placeholder="Введіть пароль" type="password" required />
                </div>
            </div>

            <div class="flex flex-col gap-1 mb-4">
                <label class="form-label font-normal text-gray-900">
                    Підтвердження пароля
                </label>
                <div class="input" data-toggle-password="true">
                    <input name="confirmPassword" placeholder="Повторіть пароль" type="password" required />
                </div>
            </div>

            <button type="submit" class="btn btn-primary flex justify-center w-full mb-2">
                <i class="bi bi-link-45deg me-2"></i> Прив'язати пароль
            </button>

            <a href="@Url.Action("LoginIn")" class="btn btn-outline-secondary flex justify-center w-full mb-2">
                <i class="bi bi-x-circle me-2"></i> Скасувати
            </a>

            <!-- Додайте цю кнопку -->
            <a href="@Url.Action("GoogleLogin")" class="btn btn-light flex justify-center w-full">
                <img alt="" class="size-3.5 shrink-0 mr-2" src="~/assets/media/brand-logos/google.svg" />
                Увійти через Google
            </a>
        </form>
    </div>
</div>